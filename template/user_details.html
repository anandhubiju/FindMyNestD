{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FindMyNest</title>
<style>
  .custom-container {
    width: 1500px; /* Set your desired width in pixels or any other valid CSS unit */
    margin: 0 auto; /* Center the container horizontally */
  }
  .navbar-brand {
    margin-left: 30px; /* Adjust the margin value as needed */
}
</style>
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      name="description"
      content="Portal - Bootstrap 5 Admin Dashboard Template For Developers"/>
    <meta name="author" content="Xiaoying Riley at 3rd Wave Media" />
    <link rel="shortcut icon" href="favicon.ico" />
	<script defer src="{% static 'assets1/plugins/fontawesome/js/all.min.js' %}"></script>

	<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Favicons -->
<link href="{% static 'assets/img/favicon.png' %}" rel="icon">
<link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

<!-- Vendor CSS Files -->
<link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

<!-- Template Main CSS File -->
<link href="{% static 'assets/css/style.css' %}" rel="stylesheet">


<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<!-- Include DataTables JavaScript -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<!-- Vendor JS Files -->
<script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
<script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">







<script>
  $(document).ready(function() {
      // Use event delegation to handle the click event
      $(document).on('click', '#deleteButton', function(e) {
          e.preventDefault(); // Prevent the default link behavior
  
          // Display a confirmation dialog
          if (confirm('Are you sure you want to delete this user?')) {
              // If the user confirms, proceed with the delete action
              var deleteUrl = $(this).parent().data('delete-url');
              window.location.href = deleteUrl;
          }
      });
  });
  </script>

    <!-- FontAwesome JS-->
    <script
      defer
      src="{% static 'assets1/plugins/fontawesome/js/all.min.js' %}"></script>

    <!-- App CSS -->
    <link
      id="theme-style"
      rel="stylesheet"
      href="{% static 'assets1/css/portal.css' %}"
    />
  </head>

  <body class="app" style="background-color: rgb(255, 255, 255); ">
    <header class="app-header fixed-top">

      <nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
        <a class="navbar-brand text-brand" href="index.html">FindM<span class="color-b">yNest</span></a>
        <div class="container">
		
			  <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
				<ul class="navbar-nav">
				  <li class="nav-item">
					<a class="nav-link " href="{% url 'admindashboard' %}">Dashboard</a>
				  </li>
		
		
				  {% if user.is_superuser %}
				  <li class="nav-item">
					<a class="nav-link " href="{% url 'propertylist' %}">Property</a>
				  </li>
				  <li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
					<div class="dropdown-menu">
					  <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
					</div>
				  </li>
		
				  {% comment %} {%  elif  user.is_authenticated %}
				  <li class="nav-item">
					<a class="nav-link " href="{% url 'propertylist' %}">Property</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link " href="{% url 'addproperty' %}">Post Property</a>
				  </li>
				  <li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
					<div class="dropdown-menu">
					  <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
					  <a class="dropdown-item " href="{% url 'editprofile' %}">Profile</a>
					</div>
				  </li> {% endcomment %}
				  {% else %}
				  <li class="nav-item">
					<a class="nav-link " href="contact.html">Welcome, guest!</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link " href="/register">Register</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link " href="{% url 'login' %}">Login</a>
				  </li>
				  {% endif %}
				</ul>
		
			  </div>
		
			  <!-- <button type="button" class="btn btn-b-n navbar-toggle-box navbar-toggle-box-collapse" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01">
				<i class="bi bi-search"></i>
			  </button> -->
		
			</div>
		  </nav>



			<div id="app-sidepanel" class="app-sidepanel">
				<div id="sidepanel-drop" class="sidepanel-drop"></div>
				<div class="sidepanel-inner d-flex flex-column">
					<a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
					<div class="app-branding">
						<a class="app-logo" href="index.html"><span class="logo-text">FindMyNest</span></a>

					</div><!--//app-branding-->

					<nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
						<ul class="app-menu list-unstyled accordion" id="menu-accordion">
							<li class="nav-item">
								<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
								<a class="nav-link"  href="{% url 'admindashboard' %}">
									<span class="nav-icon">
										<svg width="1em" height="1em" viewBox="0 0 16 16"
											class="bi bi-house-door" fill="currentColor"
											xmlns="http://www.w3.org/2000/svg">
											<path fill-rule="evenodd"
												d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
											<path fill-rule="evenodd"
												d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
										</svg>
									</span>
									<span class="nav-link-text">Overview</span>
								</a><!--//nav-link-->
							</li><!--//nav-item-->
							
							<li class="nav-item">
								<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
								<a class="nav-link active" href="{% url 'users' %}">
									<span class="nav-icon">
										<svg width="1em" height="1em" viewBox="0 0 16 16"
											class="bi bi-card-list" fill="currentColor"
											xmlns="http://www.w3.org/2000/svg">
											<path fill-rule="evenodd"
												d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
											<path fill-rule="evenodd"
												d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z" />
											<circle cx="3.5" cy="5.5" r=".5" />
											<circle cx="3.5" cy="8" r=".5" />
											<circle cx="3.5" cy="10.5" r=".5" />
										</svg>
									</span>
									<span class="nav-link-text">Users</span>
								</a><!--//nav-link-->
							</li><!--//nav-item-->
              <li class="nav-item">
								<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
								<a class="nav-link" href="{% url 'propertys' %}">
									<span class="nav-icon">
										<svg width="1em" height="1em" viewBox="0 0 16 16"
											class="bi bi-card-list" fill="currentColor"
											xmlns="http://www.w3.org/2000/svg">
											<path fill-rule="evenodd"
												d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
											<path fill-rule="evenodd"
												d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z" />
											<circle cx="3.5" cy="5.5" r=".5" />
											<circle cx="3.5" cy="8" r=".5" />
											<circle cx="3.5" cy="10.5" r=".5" />
										</svg>
									</span>
									<span class="nav-link-text">Propertys</span>
								</a><!--//nav-link-->
							</li>
              <li class="nav-item">
								<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
								<a class="nav-link" href="{% url 'payment_info' %}">
									<span class="nav-icon">
										<svg width="1em" height="1em" viewBox="0 0 16 16"
											class="bi bi-card-list" fill="currentColor"
											xmlns="http://www.w3.org/2000/svg">
											<path fill-rule="evenodd"
												d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
											<path fill-rule="evenodd"
												d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z" />
											<circle cx="3.5" cy="5.5" r=".5" />
											<circle cx="3.5" cy="8" r=".5" />
											<circle cx="3.5" cy="10.5" r=".5" />
										</svg>
									</span>
									<span class="nav-link-text">Payment Info</span>
								</a><!--//nav-link-->
							</li>
							<li class="nav-item has-submenu">
								<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
								<a class="nav-link submenu-toggle" href="#" data-bs-toggle="collapse" data-bs-target="#submenu-1" aria-expanded="false" aria-controls="submenu-1">
									<span class="nav-icon">
									<!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
									<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-files" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M4 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z"/>
									<path d="M6 0h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1H4a2 2 0 0 1 2-2z"/>
									</svg>
																</span>
																<span class="nav-link-text">Subscription</span>
																<span class="submenu-arrow">
																	<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
									</svg>
									 </span><!--//submenu-arrow-->
								</a><!--//nav-link-->
								<div id="submenu-1" class="collapse submenu submenu-1" data-bs-parent="#menu-accordion">
									<ul class="submenu-list list-unstyled">
										<li class="submenu-item"><a class="submenu-link" href="{% url 'add_subscription' %}">Add Subscription</a></li>
										<li class="submenu-item"><a class="submenu-link" href="{% url 'subscription' %}">View Subscription</a></li>										
									</ul>
								</div>
							</li><!--//nav-item--><!--//nav-item-->
							</ul><!--//footer-menu-->
						</nav>
					</div><!--//app-sidepanel-footer-->

				</div><!--//sidepanel-inner-->
			</div>
      <!--//app-sidepanel-->
    </header>
    <!--//app-header-->

    <div class="app-wrapper" style="background-color: rgb(255, 255, 255); ">
      <div class="app-content pt-3 p-md-3 p-lg-4">
        <div class="custom-container">
          <section style="background-color: #ffffff;">
            <div class="container py-5">
              <div class="row">
                <div class="col-lg-4">
                  <div class="card mb-4">
                    <div class="card-body text-center">
                      {% if user_profile.profile_pic %}
                      <img src="{{ user_profile.profile_pic.url }}" alt="avatar"
                        class="rounded-circle img-fluid" style="width: 150px;">
                        {% else %}
                        <img src="{% static 'assets/img/pro_pic.png' %}" alt="avatar"
                        class="rounded-circle img-fluid" style="width: 150px;">
                        {% endif %}
                      <h5 class="my-3">{{ user.username }}</h5>
                      <p class="text-muted mb-1">{{ user.get_user_type_display }}</p>
                      <p class="text-muted mb-4">{{ user.email }}</p>
                      <p class="text-muted mb-4">{{ user.phone_no }}</p>
                      <div class="d-flex justify-content-center mb-2">
      
                        <a href="{% url 'updateuserStatus' user.id %}"><button
                          class="btn btn-success"><i class="bi bi-pencil-square"> Update Status </i></button></a>
                        <!-- <button type="button" class="btn btn-success"></button> -->
                      </div>
                    </div>
                  </div>
                  <div class="card mb-4 mb-lg-0">
                    <div class="card-body p-0">
                      <ul class="list-group list-group-flush rounded-3">
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">Account Created 
                          <p class="mb-0">{{ user.date_joined }}</p>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">Last Logined
                          <p class="mb-0">{{ user.last_login }}</p>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">Modified
                          <p class="mb-0">{{ user_profile.modified_at }}</p>
                        </li>{% if user.is_active %}
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">Status
                          <p class="mb-0"><span style="color: green;">
                            <i class="bi bi-circle-fill"></i> Active
                        </span></p>
                        </li>
                        {% else %}
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">Status
                          <p class="mb-0"><span style="color: red;">
                            <i class="bi bi-circle-fill"></i> Inactive
                        </span></p>
                        </li>
                        {% endif %}
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="col-lg-8">
                  <div class="card mb-4">
                    <div class="card-body">
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Full Name</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">{{user.first_name }} {{user.last_name }} </p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Email</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">{{user.email }}</p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Phone</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">{{user.phone_no }}</p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Mobile</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">{{user.phone_no }}</p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Address</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">{{ user_profile.country }} , {{ user_profile.state }} , {{ user_profile.city }} , {{ user_profile.pin_code }}  </p>
                        </div>
                      </div>
                    </div>
                  </div>
               <div class="row">
                    <div class="col-md-12">
                      <div class="card mb-4 mb-md-0">
                        <div class="card-body">
                          <p class="mb-4"><span class="text-primary font-italic me-1">Property</span>Posted <span class="text-primary font-italic me-1">Deatils</span>
                          </p>
                          <ul class="list-group list-group-flush rounded-3">
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">Properties Posted
                              <p class="mb-0">{{ properties|length }}</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">Properties Deleted
                              <p class="mb-0">{{ inactive_property_count }}</p>
                          </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">Last Posted Property Created At
                              <p class="mb-0">{{ last_posted_property_created_at }}</p>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center p-3">Last Posted Property Modified At
                              <p class="mb-0">{{ last_posted_property_modified_at }}</p>
                            </li>
                          </ul>
                      </div>
                    </div>
                  </div> 
                </div>
              </div>
            </div>
          </section>
          <!--//tab-content-->
        </div>
        <!--//container-fluid-->
      </div>
      <!--//app-content-->

      <!--//app-footer-->
    </div>
    <!--//app-wrapper-->
    <script> 
      new DataTable('#example');
    </script>
    
    
    
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Javascript -->
    <script src="{% static 'assets/plugins/popper.min.js' %}"></script>
    <script src="{% static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- Page Specific JS -->
    <script src="{% static 'assets/js/app.js' %}"></script>
  </body>
</html>
