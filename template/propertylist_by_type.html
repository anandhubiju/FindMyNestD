{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>FindMyNest</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'assets\images\Icon.png' %}" rel="icon">
  <link href="{% static 'assets\images\Icon.png' %}"" rel="apple-touch-icon">
  <style>
  .card-box-a {
    border-radius: 15px; /* Adjust the value as needed for the desired curve */
  }

  .my-card {
    margin-bottom: 40px;
    margin-left: 10px;
}

.empty-heart {
  color: rgb(255, 255, 255);
  cursor: pointer;
}
/* Style the filled heart icon */
.filled-heart {
  color: red;
}




.my-card {
  position: relative;
  transition: transform 0.3s ease-in-out;
}

.my-card:hover {
  transform: scale(1.05); /* Increase the size on hover */
  z-index: 1; /* Bring the card to the top layer */
}

.card-title {
  color: rgb(8, 248, 8); /* Set text color to green */
  font-weight: bold; /* Make the text bold */
}
</style>
  <!-- Favicons -->
  <link href="{% static 'assets/img/favicon.png' %}" rel="icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+D7uUc4J7pc6B5d5F3L6U8S2nUZl5dF5J5z5A5J5F5U5r5" crossorigin="anonymous">

  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: EstateAgency
  * Updated: Jul 27 2023 with Bootstrap v5.3.1
  * Template URL: https://bootstrapmade.com/real-estate-agency-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  {% comment %} ======= Property Search Section =======
  <div class="click-closed"></div>
  <!--/ Form Search Star /-->
  <div class="box-collapse">
    <div class="title-box-d">
      <h3 class="title-d">Search Property</h3>
    </div>
    <span class="close-box-collapse right-boxed bi bi-x"></span>
    <div class="box-collapse-wrap form">
      <form class="form-a">
        <div class="row">
          <div class="col-md-12 mb-2">
            <div class="form-group">
              <label class="pb-2" for="Type">Keyword</label>
              <!-- <input type="text" class="form-control form-control-lg form-control-a" placeholder="Keyword"  id="query" name="query"> -->
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="Type">Type</label>
              <select class="form-control form-select form-control-a" id="Type">
                <option>All Type</option>
                <option>For Rent</option>
                <option>For Sale</option>
                <option>Open House</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="city">City</label>
              <select class="form-control form-select form-control-a" id="city">
                <option>All City</option>
                <option>Alabama</option>
                <option>Arizona</option>
                <option>California</option>
                <option>Colorado</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bedrooms">Bedrooms</label>
              <select class="form-control form-select form-control-a" id="bedrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="garages">Garages</label>
              <select class="form-control form-select form-control-a" id="garages">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bathrooms">Bathrooms</label>
              <select class="form-control form-select form-control-a" id="bathrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="price">Min Price</label>
              <select class="form-control form-select form-control-a" id="price">
                <option>Unlimite</option>
                <option>$50,000</option>
                <option>$100,000</option>
                <option>$150,000</option>
                <option>$200,000</option>
              </select>
            </div>
          </div>
          <div class="col-md-12">
            <button type="submit" class="btn btn-b">Search Property</button>
          </div>
        </div>
      </form>
    </div>
  </div> {% endcomment %}

  <!-- <div class="container m-5" id="results">
    <!-- Results will be displayed here using JavaScript 
</div> -->

  
  
  
  
  
  
  <!-- End Property Search Section -->>

  <!-- ======= Header/Navbar ======= -->
  <nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-brand text-brand" href="index.html">FindM<span class="color-b">yNest</span></a>

      <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link " href="{% url 'index' %}">Home</a>
          </li>

          <li class="nav-item">
            <a class="nav-link " href="{% url 'about' %}">About</a>
          </li>

          {% if user.is_superuser %}
          <li class="nav-item">
            <a class="nav-link " href="{% url 'Customer/propertylist' %}">Property</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
            <div class="dropdown-menu">
              <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
            </div>
          </li>

          {%  elif  user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link active " href="{% url 'propertylist' %}">Property</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="{% url 'addproperty' %}">Post Property</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
            <div class="dropdown-menu">
              <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
              <a class="dropdown-item " href="{% url 'editprofile' %}">Profile</a>
            </div>
          </li>
          {% else %}
          <li class="nav-item">
            <a class="nav-link " href="contact.html">Welcome, guest!</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/register">Register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="{% url 'login' %}">Login</a>
          </li>
          {% endif %}
        </ul>

      </div>

      <button type="submit" class="btn btn-b-n navbar-toggle-box navbar-toggle-box-collapse" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01">
        <i class="bi bi-search"></i>
      </button> 

    </div>
  </nav><!-- End Header/Navbar -->

  <main id="main">

    <!-- ======= Intro Single ======= -->
    <section class="intro-single">
      <div class="container" style="max-width: 1500px;">
        <div class="row">
          <div class="col-md-12 col-lg-8">
            <div class="title-single-box">
              <h1 class="title-single">Properties of Type: {{ selected_property_type }}</h1>
            </div>
          </div>
          <div class="col-md-12 col-lg-4">
            <nav aria-label="breadcrumb" class="breadcrumb-box d-flex justify-content-lg-end">
              <ol class="breadcrumb">
                <li class="breadcrumb-item">
                  <a href="#">Home</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  Properties Grid
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </section><!-- End Intro Single-->
  
    <section class="property-grid grid">
      <div class="container" style="max-width: 1500px; margin-top: 70px;">
        <div class="row" id="property-listings">
            {% if properties %}
                {% for property in properties %}
                    <div class="col-3">
                        <div class="card my-card">
                            <div class="position-relative">
                                <i class="fas fa-heart empty-heart position-absolute top-0 end-0 me-6 mt-3 " id="heart-{{ property.id }}" style="font-size: 1.65em;"></i>
                                <img src="{{ property.thumbnail.url }}" class="card-img-top" alt="Property Image" width="300" height="300" />
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">{{ property.property_type }}</h5>
                                <p class="card-text">{{ property.bedrooms }} BHK | {{ property.area }}</p>
                                <p class="card-text">Bedrooms: {{ property.bedrooms }} | Bathrooms: {{ property.bathrooms }}</p>
                                <p class="card-text">{{ property.address }}, <br>{{ property.Town }} - {{ property.state }}</p>
                                <h5 class="card-title">RS {{ property.price }}</h5><br>
                                <a href="{% url 'property_single' property.id %}?property_id={{ property.id }}" class="btn btn-success">View Property</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="col-12">
                    <p>No properties of this type have been posted.</p>
                </div>
            {% endif %}
        </div>
    </div>
  </section>
  
    
    
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <section class="section-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-4">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">FindMyNest</h3>
            </div>
            <div class="w-body-a">
              <p class="w-text-a color-text-a">
                FindMyNest is an innovative online platform designed to simplify the process of property management and real estate transactions. 
                  This digital solution aims to provide users with the convenience of searching for, viewing, and booking properties from the comfort of their own space. 
                  With a user-friendly interface, FindMyNest allows clients to explore a wide range of properties, 
                  from residences to offices, and even assists in property-related services like home shifting and home loans.
              </p>
            </div>
            <div class="w-footer-a">
              <ul class="list-unstyled">
                <li class="color-a">
                  <span class="color-text-a">Phone .</span> +91 8113825461
                </li>
                <li class="color-a">
                  <span class="color-text-a">Email .</span> findmynest@gmail.com
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">The Company</h3>
            </div>
            <div class="w-body-a">
              <div class="w-body-a">
                <ul class="list-unstyled">
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Site Map</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Legal</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Agent Admin</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Careers</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Affiliate</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Privacy Policy</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">International sites</h3>
            </div>
            <div class="w-body-a">
              <ul class="list-unstyled">
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Venezuela</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">China</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Hong Kong</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Argentina</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Singapore</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Philippines</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <nav class="nav-footer">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">Home</a>
              </li>
              <li class="list-inline-item">
                <a href="#">About</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Property</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Blog</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Contact</a>
              </li>
            </ul>
          </nav>
          <div class="socials-a">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-facebook" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-twitter" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-instagram" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-linkedin" aria-hidden="true"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="copyright-footer">
            <p class="copyright color-text-a">
              &copy; Copyright
              <span class="color-a">FindMyNest</span> All Rights Reserved.
            </p>
          </div>
          <div class="credits">
            <!--
            All the links in the footer should remain intact.
            You can delete the links only if you purchased the pro version.
            Licensing information: https://bootstrapmade.com/license/
            Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=EstateAgency
          -->
            <!-- Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a> -->
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>

  <script>
    var emptyHearts = document.querySelectorAll(".empty-heart");

    emptyHearts.forEach(function (heart) {
        heart.addEventListener("click", function () {
            console.log("Heart clicked");
            heart.classList.toggle("filled-heart");
    });
    });
</script>

<script>
  // Get all elements with the class "delete-property-link"
  var deleteLinks = document.querySelectorAll(".delete-property-link");

  // Add a click event listener to each delete link
  deleteLinks.forEach(function (link) {
      link.addEventListener("click", function (event) {
          event.preventDefault(); // Prevent the default link behavior

          // Get the delete URL from the data attribute
          var deleteUrl = link.getAttribute("data-delete-url");

          // Confirm the deletion with a confirmation dialog
          var confirmDeletion = confirm("Are you sure you want to delete this property?");

          if (confirmDeletion) {
              // If confirmed, navigate to the delete URL
              window.location.href = deleteUrl;
          } else {
              // If not confirmed, do nothing
          }
      });
  });
</script>


</body>

</html>