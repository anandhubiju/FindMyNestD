{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>FindMyNest</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'assets\images\Icon.png' %}" rel="icon">
  <link href="{% static 'assets\images\Icon.png' %}"" rel="apple-touch-icon">
  <style>

    #error-message {
      display: none; /* Hide the error message by default */
      /* Add your desired styles here */
  }
  
    .my-card {
      margin-bottom: 40px; /* Adjust the value as needed */
  }
  .my-card {
    position: relative;
    transition: transform 0.3s ease-in-out;
  }
  
  .my-card:hover {
    transform: scale(1.05); /* Increase the size on hover */
    z-index: 1; /* Bring the card to the top layer */
  }
  
  .card-title {
    color: rgb(8, 248, 8); /* Set text color to green */
    font-weight: bold; /* Make the text bold */
  }
    .profile-pic-wrapper {
      position: relative;
      width: 200px; /* Set the width and height to match your image size */
      height: 200px;
      justify-content: center;
      overflow: hidden;
      border-radius: 50%;
  }
  
  .profile-pic-container {
      position: relative;
      justify-content: center;
      width: 100%;
      height: 100%;
  }
  
  .profile-pic-container img {
      width: 100%;
      height: 100%;
      justify-content: center;
      object-fit: cover;
  }
  
  .file-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: rgba(0, 0, 0, 0.5);
      opacity: 0;
      transition: opacity 0.3s ease;
  }
  
  .profile-pic-wrapper:hover .file-overlay {
      opacity: 1;
  }
  
  .file {
      color: #fff;
      text-align: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
  }
  
  .file:hover {
      background-color: rgba(0, 0, 0, 0.7);
  }
  


	.frm_submit_block h3 {
		position: relative;
		display: inline-block;
		padding-bottom: 5px;
		border-bottom: 2px solid green;
		transition: border-bottom-color 0.3s;
		cursor: pointer;
	}
	
	.frm_submit_block h3:hover {
		border-bottom-color: darkgreen;
	}
	.intro.intro-carousel {
		margin-bottom: 0; /* Set the desired bottom margin value */
	  }

 
    .label-with-margin {
      margin-top: 30px; /* Add top margin to the label */
    }
    
    .button-label {
      margin-left: 40px; /* Add space between label and button */
      margin-top: 30px; /* Add top margin to the button */
    }
    

    .custom-btn {
      border-radius: 20px; /* Curved border */
      background-color: #28a745;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      position: relative; /* Required for pseudo-element */
    }
    
    .custom-btn::after {
      content: attr(data-text); /* Display the button text */
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      animation: blink 1s infinite; /* Blink animation */
      visibility: hidden; /* Hide original text */
    }
    
    @keyframes blink {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

.success-btn {
  background-color: #28a745; /* Success green color */
}

</style>
  <title>FindMyNest</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">

</head>

<body>

  <!-- ======= Property Search Section ======= -->
  <div class="click-closed"></div>
  <!--/ Form Search Star /-->
  <div class="box-collapse">
    <div class="title-box-d">
      <h3 class="title-d">Search Property</h3>
    </div>
    <span class="close-box-collapse right-boxed bi bi-x"></span>
    <div class="box-collapse-wrap form">
      <form class="form-a">
        <div class="row">
          <div class="col-md-12 mb-2">
            <div class="form-group">
              <label class="pb-2" for="Type">Keyword</label>
              <input type="text" class="form-control form-control-lg form-control-a" placeholder="Keyword">
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="Type">Type</label>
              <select class="form-control form-select form-control-a" id="Type">
                <option>All Type</option>
                <option>For Rent</option>
                <option>For Sale</option>
                <option>Open House</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="city">City</label>
              <select class="form-control form-select form-control-a" id="city">
                <option>All City</option>
                <option>Alabama</option>
                <option>Arizona</option>
                <option>California</option>
                <option>Colorado</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bedrooms">Bedrooms</label>
              <select class="form-control form-select form-control-a" id="bedrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="garages">Garages</label>
              <select class="form-control form-select form-control-a" id="garages">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
                <option>04</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="bathrooms">Bathrooms</label>
              <select class="form-control form-select form-control-a" id="bathrooms">
                <option>Any</option>
                <option>01</option>
                <option>02</option>
                <option>03</option>
              </select>
            </div>
          </div>
          <div class="col-md-6 mb-2">
            <div class="form-group mt-3">
              <label class="pb-2" for="price">Min Price</label>
              <select class="form-control form-select form-control-a" id="price">
                <option>Unlimite</option>
                <option>$50,000</option>
                <option>$100,000</option>
                <option>$150,000</option>
                <option>$200,000</option>
              </select>
            </div>
          </div>
          <div class="col-md-12">
            <button type="submit" class="btn btn-b">Search Property</button>
          </div>
        </div>
      </form>
    </div>
  </div><!-- End Property Search Section -->>

  <!-- ======= Header/Navbar ======= -->
  <nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-brand text-brand" href="index.html">FindM<span class="color-b">yNest</span></a>

      <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Welcome,  {{ user.username }}!</a>
            <div class="dropdown-menu">
              <a class="dropdown-item " href="{% url 'logout' %}">Logout</a>
            </div>
          </li>
        </ul>

      </div>

      <!-- <button type="button" class="btn btn-b-n navbar-toggle-box navbar-toggle-box-collapse" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01">
        <i class="bi bi-search"></i>
      </button> -->

    </div>
  </nav><!-- End Header/Navbar -->

  <!-- ======= Intro Section ======= -->
  <div class="intro intro-carousel swiper position-relative"style="height: 450px;">

    <div class="swiper-wrapper">
      <div class="swiper-slide carousel-item-a intro-item bg-image" style="background-image: url({% static 'assets/img/login2.jpg' %}); height: 450px;">
        <div class="overlay overlay-a"></div>
        <div class="intro-content display-table">
          <div class="table-cell">
            <div class="container">
              <div class="row">
                <div class="col-lg-8">
                  <div class="intro-body">
                    <p class="intro-title-top">FindMyNest
                      <br>Your navigator in realestate excellences
                    </p>
                    <h1 class="intro-title mb-4 ">
                      <span class="color-b">Complete Profile</span> 
                      <br>
                    </h1>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
	</div>
  </div>
  {% if request.GET.alert %}
<div id="error-message" class="alert alert-danger">
    {{ request.GET.alert }}
</div>
{% endif %}
  <form method="POST" id="save" enctype="multipart/form-data" action="{% url 'googleProfileComplte' %}">
    {% csrf_token %}
    <section class="gray pt-5 pb-5">
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-lg-9 col-md-8">
                    <div class="dashboard-body">
                        <div class="dashboard-wraper">
                            <div class="row">
                                <div class="col-lg-12 col-md-12">
                                    <!-- Basic Information -->
                                    <div class="frm_submit_block  mb-5">
                                        <h3>{{ user.username }}</h3>
                                        <div class="frm_submit_wrap">
                                            <div class="row">
                                                <div class="form-group col-md-6 pd-20">
                                                    <label class="mt-2 mb-1">UserName</label>
                                                    <input type="text" name="username" class="form-control" value="{{ user.username }}" disabled>
                                                </div>
                                                <div class="form-group col-md-6 pd-20">
                                                    <label class="mt-2 mb-1">Email</label>
                                                    <input type="text" name="email" class="form-control" value="{{ user.email }}" disabled>
                                                </div>
                                                <div class="form-group col-md-6 pd-20">
                                                    <label class="mt-2 mb-1">First Name</label>
                                                    <input type="text" id="first-name" name="first_name" class="form-control" value="{{ user.first_name }}">
                                                    <div id="first-name-error" class="error"></div>
                                                </div>
                                                <div class="form-group col-md-6 pd-20">
                                                    <label class="mt-2 mb-1">Last Name</label>
                                                    <input type="text" id="last-name" name="last_name" class="form-control" value="{{ user.last_name }}">
                                                    <div id="last-name-error" class="error"></div>
                                                  </div>
                                                <div class="form-group col-md-6 pd-20">
                                                    <label class="mt-2 mb-1">Phone Number</label>
                                                    <input type="text" id="phone" name="phone_no" onkeyup="validatePhoneNumber()" class="form-control" value="{{ user.phone_no }}">
                                                    <span id="phone-error" class="error"></span>
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-12 col-md-12 text-center">
                                        <button class="btn btn-success" onclick="checkall()" type="submit">Save</button>
                                    </div>
  
                    </div>
                  </div>
  
                </div>
  
              </div>
              <!-- row -->
  
            </div>
          </div>
  
        </div>
      </div>
    </section>
</form>
  <!-- ======= Footer ======= -->
  <section class="section-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-4">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">FindMyNest</h3>
            </div>
            <div class="w-body-a">
              <p class="w-text-a color-text-a">
                Enim minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip exea commodo consequat duis
                sed aute irure.
              </p>
            </div>
            <div class="w-footer-a">
              <ul class="list-unstyled">
                <li class="color-a">
                  <span class="color-text-a">Phone .</span> contact@example.com
                </li>
                <li class="color-a">
                  <span class="color-text-a">Email .</span> +54 356 945234
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">The Company</h3>
            </div>
            <div class="w-body-a">
              <div class="w-body-a">
                <ul class="list-unstyled">
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Site Map</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Legal</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Agent Admin</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Careers</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Affiliate</a>
                  </li>
                  <li class="item-list-a">
                    <i class="bi bi-chevron-right"></i> <a href="#">Privacy Policy</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 section-md-t3">
          <div class="widget-a">
            <div class="w-header-a">
              <h3 class="w-title-a text-brand">International sites</h3>
            </div>
            <div class="w-body-a">
              <ul class="list-unstyled">
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Venezuela</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">China</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Hong Kong</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Argentina</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Singapore</a>
                </li>
                <li class="item-list-a">
                  <i class="bi bi-chevron-right"></i> <a href="#">Philippines</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <nav class="nav-footer">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">Home</a>
              </li>
              <li class="list-inline-item">
                <a href="#">About</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Property</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Blog</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Contact</a>
              </li>
            </ul>
          </nav>
          <div class="socials-a">
            <ul class="list-inline">
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-facebook" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-twitter" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-instagram" aria-hidden="true"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="bi bi-linkedin" aria-hidden="true"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="copyright-footer">
            <p class="copyright color-text-a">
              &copy; Copyright
              <span class="color-a">EstateAgency</span> All Rights Reserved.
            </p>
          </div>
          <div class="credits">
            <!--
            All the links in the footer should remain intact.
            You can delete the links only if you purchased the pro version.
            Licensing information: https://bootstrapmade.com/license/
            Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=EstateAgency
          -->
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
          </div>
        </div>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <!-- Vendor JS Files -->

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      
        const firstNameInput = document.getElementById('first-name');
        const lastNameInput = document.getElementById('last-name');
        const phoneInput = document.getElementById('phone');
        const form = document.getElementById('save');

        // Function to validate image files onchange

          function validateFirstName() {
            const firstNameInputValue = firstNameInput.value.trim(); // Get the first name value
            const firstNameError = document.getElementById('first-name-error');
        
            const alphaRegex = /^[A-Za-z]+$/;
        
            if (!firstNameInputValue) {
                firstNameError.innerText = 'Please enter your first name.';
                return false;
            } else if (!alphaRegex.test(firstNameInputValue)) {
                firstNameError.innerText = 'First name should contain only alphabetic characters.';
                return false;
            } else {
                firstNameError.innerText = '';
                return true; // Clear the error message
            }
        }
        
        // Function to validate last name
        function validateLastName() {
            const lastNameInputValue = lastNameInput.value.trim(); // Get the last name value
            const lastNameError = document.getElementById('last-name-error');
        
            const alphaRegex = /^[A-Za-z]+$/;
        
            if (!lastNameInputValue) {
                lastNameError.innerText = 'Please enter your last name.';
                return false;
            } else if (!alphaRegex.test(lastNameInputValue)) {
                lastNameError.innerText = 'Last name should contain only alphabetic characters.';
                return false;
            } else {
                lastNameError.innerText = '';
                return true; // Clear the error message
            }
        }

        function validatePhone() {
          const phoneInputValue = document.getElementById('phone').value.trim();
          const phoneError = document.getElementById('phone-error');
      
          // Phone number validation regex (example for 10-digit numbers)
          const phoneRegex = /^\d{10}$/;
      
          if (!phoneInputValue) {
              phoneError.innerText = 'Please enter a phone number.';
              return false;
          } else if (!phoneRegex.test(phoneInputValue)) {
              phoneError.innerText = 'Invalid phone number. It should be a 10-digit number.';
              return false;
          } else {
              phoneError.innerText = '';
              return true; // Clear the error message
          }
      }
            
        function hasValidationErrors() {
          const firstNameError = document.getElementById('first-name-error');
          const lastNameError = document.getElementById('last-name-error');
          const phoneError = document.getElementById('phone-error');
        
        
      
          // Check if any of the error elements contains text (validation error message)
          return (
              firstNameError.innerText ||
              lastNameError.innerText ||
              phoneError.innerText
          );
      }
  
          // Add a submit event listener to the form
          form.addEventListener('submit', function(event) {
            if (hasValidationErrors()) {
                // Prevent form submission if there are validation errors
                event.preventDefault();
                alert('Please fix the validation errors before submitting the form.');
        
                // Clear only the error-occurring data
                if (firstNameError.innerText) {
                    firstNameInput.value = '';
                }
                if (lastNameError.innerText) {
                    lastNameInput.value = '';
                }
                if (phoneError.innerText) {
                  phoneError.value = '';
              }
            }
        });
  
          // Add event listeners to the form elements
          
          firstNameInput.addEventListener('keyup', validateFirstName);
          lastNameInput.addEventListener('keyup', validateLastName);
          phoneInput.addEventListener('input', validatePhone);
      });

</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const errorMessage = document.getElementById('error-message');

      if (errorMessage) {
          // Show the error message
          errorMessage.style.display = 'block';

          // Set a timer to hide the error message after, for example, 5 seconds (5000 milliseconds)
          setTimeout(function() {
              errorMessage.style.display = 'none';
          }, 5000); // Adjust the time as needed (5 seconds in this example)
      }
  });
</script>




  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


  <!-- Template Main JS File -->
  <!-- <script>
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const alertType = urlParams.get('alert');
  
        if (alertType === 'password_updated') {
            showAlert('Your password was successfully updated.', 'success');
        } else if (alertType === 'password_not_match') {
            showAlert('Passwords do not match.', 'danger');
        } else if (alertType === 'incorrect_current_password') {
            showAlert('Current password is incorrect.', 'danger');
        }
  
        function showAlert(message, alertType) {
            const alertDiv = document.createElement('div');
            alertDiv.classList.add('alert', `alert-${alertType}`, 'alert-top');
            alertDiv.textContent = message;
  
            const container = document.querySelector('.container');
            container.insertBefore(alertDiv, container.firstChild);
  
            setTimeout(function() {
                alertDiv.remove();
            }, 5000);  // Remove after 5 seconds
        }
    });
  </script> -->
  
</body>

</html>